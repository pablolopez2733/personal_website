<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.555">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>about</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="./index.html"> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link active" href="./about.html" aria-current="page"> 
<span class="menu-text">About Me</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./projects.html"> 
<span class="menu-text">Projects</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./Tweets.html"> 
<span class="menu-text">Media Links</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./CV.html"> 
<span class="menu-text">CV</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
          <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#pablo-l√≥pez-landeros" id="toc-pablo-l√≥pez-landeros" class="nav-link active" data-scroll-target="#pablo-l√≥pez-landeros">Pablo L√≥pez Landeros</a>
  <ul class="collapse">
  <li><a href="#contact-information-‚Ñπ" id="toc-contact-information-‚Ñπ" class="nav-link" data-scroll-target="#contact-information-‚Ñπ">Contact Information ‚ÑπÔ∏è</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">




<section id="pablo-l√≥pez-landeros" class="level1">
<h1>Pablo L√≥pez Landeros</h1>
<p>Data Scientist and former athlete with 5+ years of experience in sports quantitative analysis, dedicated to delivering actionable insights that drive strategic decisions.</p>
<p>Skilled in synthesizing complex data and leveraging statistical methods to enhance organizational outcomes. Passionate about the intersection of Computing and Mathematics for descriptive and predictive modeling with applications in sports, physics, and biology.</p>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-1-contents" aria-controls="callout-1" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
üß™Professional Experience
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-1" class="callout-1-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<section id="basketball-data-scientist" class="level4">
<h4 class="anchored" data-anchor-id="basketball-data-scientist">üèÄ Basketball Data Scientist</h4>
<section id="zelus-analytics" class="level6">
<h6 class="anchored" data-anchor-id="zelus-analytics">Zelus Analytics</h6>
<p><em>November 2024 - Present</em><br>
</p>
<ul>
<li><p>Developed and implemented Value Attribution metrics using state-of-the-art frame by frame models, delivering advanced insights to NBA teams.</p></li>
<li><p>Leading the development of advanced shot probability models for college basketball, leveraging spatial data to improve predictive accuracy in player and team performance analysis</p></li>
</ul>
</section>
</section>
<section id="hockey-data-scientist" class="level4">
<h4 class="anchored" data-anchor-id="hockey-data-scientist">üèí Hockey Data Scientist</h4>
<section id="zelus-analytics-1" class="level6">
<h6 class="anchored" data-anchor-id="zelus-analytics-1">Zelus Analytics</h6>
<p><em>November 2022 - November 2024</em><br>
</p>
<ul>
<li><p>Key contributor in developing the Hockey Intelligence Platform capabilities. Focused on coding, productionalizing, and maintaining complex statistical models in cloud environments, doubling client base within the first year.<br>
</p></li>
<li><p>Collaborate closely with NHL teams to tailor the platform‚Äôs capabilities to their specific needs, ensuring the delivery of actionable insights and data-driven strategies while monitoring the latest developments in sports analytics; integrating cutting-edge techniques and technologies to maintain the platform‚Äôs competitive edge.<br>
</p></li>
<li><p>Lead the development of frame-by-frame shot analysis models, as well as improvements to traditional metrics such as Adjusted Plus-Minus and Corsi by integrating advanced statistical methods.<br>
</p></li>
<li><p>Present key findings and advancements to stakeholders, demonstrating the platform‚Äôs value and securing continued investment and support.<br>
</p></li>
</ul>
</section>
</section>
<section id="machine-learning-engineer" class="level4">
<h4 class="anchored" data-anchor-id="machine-learning-engineer">ü§ñ Machine Learning Engineer</h4>
<section id="engen-capital" class="level6">
<h6 class="anchored" data-anchor-id="engen-capital">Engen Capital</h6>
<p><em>March 2022 - November 2022</em><br>
</p>
<ul>
<li><p>Developed and deployed AI-driven computer vision systems to automate and expedite credit application processes, reducing response times from two weeks to three days.<br>
</p></li>
<li><p>Enhanced risk assessment models by optimizing machine learning algorithms that predict applicant default probabilities.</p></li>
</ul>
</section>
</section>
<section id="internship-scouting" class="level4">
<h4 class="anchored" data-anchor-id="internship-scouting">üëπ Internship (Scouting)</h4>
<section id="toluca-f.c." class="level6">
<h6 class="anchored" data-anchor-id="toluca-f.c.">Toluca F.C.</h6>
<p><em>June 2021 - December 2021</em><br>
</p>
<ul>
<li>Aided with the pinpointing of potential acquisitions from minor South American leagues by leveraging advanced soccer analytics, streamlining the scouting process for coaches and scouts.</li>
</ul>
</section>
</section>
<section id="data-scientist" class="level4">
<h4 class="anchored" data-anchor-id="data-scientist">üöö Data Scientist</h4>
<section id="coca-cola-femsa" class="level6">
<h6 class="anchored" data-anchor-id="coca-cola-femsa">Coca Cola FEMSA</h6>
<p><em>January 2021 - March 2022</em><br>
</p>
<ul>
<li><p>Utilized multivariate time series and machine learning algorithms to refine sales forecasts, achieving a model accuracy of 90%.<br>
</p></li>
<li><p>Increased zone-based sales forecasting speed by 40% using xGBoost multivariate time series and supervised regression trees algorithms.<br>
</p></li>
<li><p>Evaluated the effects of Coca Cola‚Äôs marketing strategies on sales and revenue using statistical models.<br>
</p></li>
<li><p>Oversaw and optimized SQL databases to improve data architecture and quality across Mexico, ensuring robust data management and enhancing overall data integrity.<br>
</p></li>
<li><p>Automated internal reporting processes, reducing required labor by over 12 hours weekly.</p></li>
</ul>
</section>
</section>
<section id="cybersecurity-intern" class="level4">
<h4 class="anchored" data-anchor-id="cybersecurity-intern">üîê Cybersecurity Intern</h4>
<section id="kpmg-international" class="level6">
<h6 class="anchored" data-anchor-id="kpmg-international">KPMG International</h6>
<p><em>June 2019 - February 2020</em><br>
</p>
<ul>
<li><p>Implemented and managed a Power BI dashboard for data storage, EDA, and monthly reports regarding information security risks and breaches.<br>
</p></li>
<li><p>Increased productivity by building pipelines to automate data processing and dashboard creation using Python and Excel.</p></li>
</ul>
</section>
</section>
</div>
</div>
</div>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-2-contents" aria-controls="callout-2" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
üìö Education
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-2" class="callout-2-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<section id="b.s.-applied-mathematics" class="level3">
<h3 class="anchored" data-anchor-id="b.s.-applied-mathematics">B.S. Applied Mathematics</h3>
<section id="instituto-tecnologico-autonomo-de-mexico" class="level6">
<h6 class="anchored" data-anchor-id="instituto-tecnologico-autonomo-de-mexico">Instituto Tecnologico Autonomo de Mexico</h6>
<p><em>2016 ‚Äì 2020</em><br>
</p>
<ul>
<li><p><strong>GPA:</strong> 8.8/10<br>
</p></li>
<li><p>Graduated with honorable mention.<br>
</p></li>
<li><p><code>Thesis</code>: Application of Regularized Regression Methods to Forecast the NBA Playoffs.</p></li>
</ul>
</section>
</section>
<section id="ph.d.-sports-analytics" class="level3">
<h3 class="anchored" data-anchor-id="ph.d.-sports-analytics">Ph.D.&nbsp;Sports Analytics</h3>
<section id="university-of-saarland" class="level6">
<h6 class="anchored" data-anchor-id="university-of-saarland">University of Saarland</h6>
<p><em>2024 - Present</em> (In progress, proposal stage)<br>
</p>
<ul>
<li><code>Thesis</code>: Modeling Penalty Kicks as a Sequential Decision-Making Process.</li>
</ul>
</section>
</section>
<section id="certificate-in-physical-data-analysis-with-r-for-sport-scientists" class="level3">
<h3 class="anchored" data-anchor-id="certificate-in-physical-data-analysis-with-r-for-sport-scientists">Certificate in Physical Data Analysis with R for Sport Scientists</h3>
<p><strong>Bar√ßa Innovation Hub</strong> | 2024</p>
</section>
</div>
</div>
</div>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-3-contents" aria-controls="callout-3" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
üîßTechnical Skills
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-3" class="callout-3-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<ul>
<li><strong><code>Foreign Language:</code></strong> C2 English Proficiency Certificate from Cambridge University.<br>
</li>
<li><strong><code>Programming Languages</code>:</strong> SQL (servers, dbt, BigQuery, Snowflake), Python (Pandas, Scikit-learn, StatsModels, Keras), R (dplyr, ggplot, XGBoost, Tidymodels, glmnet, STAN), MATLAB, C#, C++.<br>
</li>
<li><strong><code>Machine Learning:</code></strong> Implementation of supervised and unsupervised models, including GLMs, neural networks, regression trees, K-means clustering, and time series forecasting.<br>
</li>
<li><strong><code>Cloud Services</code>:</strong> Google Cloud Platform (BigQuery, Kubernetes Engine, Buckets, APIs, DAGs).<br>
</li>
<li><strong><code>Dashboard Creation</code>:</strong> Microsoft Power BI, ggplotly.<br>
</li>
<li><strong><code>Communication</code>:</strong> Effective verbal and written communication skills for conveying data-driven analysis and results.<br>
</li>
<li><strong><code>Reporting &amp; Automation</code>:</strong> Quarto, LaTeX, and Markdown.<br>
</li>
<li><strong><code>Web Development</code>:</strong> Proficient in ASP.NET (C#), Shiny (R), and basic Vue (JavaScript, CSS, HTML5).</li>
</ul>
</div>
</div>
</div>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-4-contents" aria-controls="callout-4" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
üì¢ Public Projects
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-4" class="callout-4-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<section id="founder-of-itam-sports-analytics-conference" class="level5">
<h5 class="anchored" data-anchor-id="founder-of-itam-sports-analytics-conference">üé§Founder of ITAM Sports Analytics Conference</h5>
<p>The <a href="https://itam-sports-analytics-conference.github.io/">ITAM Sports Analytics Conference</a> aspires to be the most important sports analytics conference in Latin America.</p>
<p>Our mission is to drive innovation and foster collaboration within sports analytics, creating a dynamic community of experts, students, and industry leaders to share ideas, explore advancements, and shape the future of sports in Latin America.</p>
</section>
<section id="covid-19-case-estimation" class="level5">
<h5 class="anchored" data-anchor-id="covid-19-case-estimation">ü¶†Covid 19 case estimation</h5>
<p>Contributed to the <a href="https://github.com/RodrigoZepeda/covidmx"><code>covidmx</code></a> R package, using a Bayesian model to estimate COVID-19 cases in Mexico. This was utilized by the Mexican Health Department (INSP) for safety measures.</p>
</section>
<section id="soccer-simulation-using-monte-carlo" class="level5">
<h5 class="anchored" data-anchor-id="soccer-simulation-using-monte-carlo">‚öΩÔ∏èSoccer Simulation using Monte Carlo</h5>
<p>Developed a tool using Poisson distribution and Monte Carlo simulation to predict soccer results.<br>
</p>
</section>
<section id="penalty-shootout-analysis" class="level5">
<h5 class="anchored" data-anchor-id="penalty-shootout-analysis">‚öΩÔ∏èPenalty Shootout Analysis</h5>
<p>Developed mixed-effects models to analyze penalty kicks in World Cup shootouts. <a href="https://www.youtube.com/watch?v=HAuwPue57Vs&amp;ab_channel=Vox">Link to VOX video</a></p>
</section>
<section id="nba-playoffs-forecast-trade-evaluation" class="level5">
<h5 class="anchored" data-anchor-id="nba-playoffs-forecast-trade-evaluation">üèÄ NBA Playoffs Forecast &amp; Trade Evaluation</h5>
<p>Enhanced plus-minus metrics in my undergrad thesis, predicting the 2015 NBA playoffs and evaluating the economic impact of player trades. <a href="https://github.com/pablolopez2733/NBA-Forecast/blob/main/reports/Tesis_PabloLopezLanderos.pdf">Link to document</a></p>
</section>
<section id="win-probability-models-for-wnhl" class="level5">
<h5 class="anchored" data-anchor-id="win-probability-models-for-wnhl">üèíWin Probability Models for WNHL</h5>
<p>Applied Expected Threat (xT) metrics for hockey to assess game outcomes in the Women‚Äôs National Hockey League (WNHL) <a href="https://github.com/Echeney17/BigDataCup2021/blob/main/bdc_WP.pdf">Link to paper</a></p>
</section>
<section id="entertainment-analuysis-in-the-nfl" class="level5">
<h5 class="anchored" data-anchor-id="entertainment-analuysis-in-the-nfl">Eüèàntertainment Analuysis in the NFL</h5>
<p>Analyzed play-by-play data to gauge the evolution of perceived fan entertainment in football over two decades.</p>
</section>
</div>
</div>
</div>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-5-contents" aria-controls="callout-5" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Teaching &amp; Public Engagementsüßë‚Äçüè´
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-5" class="callout-5-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<ul>
<li><strong><code>ITAM Sports Analytics Conference:</code></strong> Organizer and Founder of Latin America‚Äôs first sports tech summit on advancements in sports technology and data science.<br>
</li>
<li><strong><code>Validating Spatial Football Models:</code></strong> Designed and led a workshop in a series supporting Ukraine, where participants learned to visualize football tracking data and identify patterns using ggplot2 and gganimate.<br>
</li>
<li><strong><code>Introduction to R for Health Workers</code>:</strong> TA for a course at the National Institute of Public Health (INSP), teaching R programming and data visualization using Quarto.<br>
</li>
<li><strong><code>World Cup Penalty Kicks, Tracked</code>:</strong> Joined Vox‚Äôs Phil Edwards for a discussion on penalty shootout analysis, examining psychological stress, dominant foot, and shooting first advantages.<br>
</li>
<li><strong><code>The Perfect Penalty Explained</code>:</strong> Joined Sport Explained‚Äôs Michael Bollenbacher to discuss how we can identify the best and worst penalty shootout kicking countries using mixed-effect models to control for external variables.<br>
</li>
<li><strong><code>The Role of the Sports Data Scientist</code>:</strong> Delivered a talk at CETYS Tijuana, highlighting key responsibilities, methodologies, and the impact of data-driven decision-making in sports.</li>
<li><strong><code>ITAM Sports Analytics Hockey Workshop</code>:</strong> Conducted a workshop for undergraduate students on utilizing frame-by-frame data analysis to extract deeper performance insights in hockey.</li>
</ul>
</div>
</div>
</div>
<hr>
<section id="contact-information-‚Ñπ" class="level3">
<h3 class="anchored" data-anchor-id="contact-information-‚Ñπ">Contact Information ‚ÑπÔ∏è</h3>
<ul>
<li><strong>Phone:</strong> +52-55-22-96-96-84<br>
</li>
<li><strong>Email:</strong> <a href="mailto:pablolopez2733@gmail.com">pablolopez2733@gmail.com</a><br>
</li>
<li><strong>LinkedIn:</strong> <a href="https://www.linkedin.com/in/pablo-l%C3%B3pez-landeros-423060157">pablo-l√≥pez-landeros-423060157</a><br>
</li>
<li><strong>Portfolio:</strong> <a href="https://pablolopez2733.github.io/personal_website/projects.html">pablolopez2733.github.io/personal_website</a></li>
</ul>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "Óßã";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>